# 条件变量的使用方法

通过阅读[用条件变量实现事件等待器的正确与错误做法](http://www.cppblog.com/Solstice/archive/2013/09/09/203094.html)才知道条件变量的使用没那么简单

这里简单列下上面文章提到的要点:
- signal()/broadcast() 只会唤醒已经等在 wait() 上的线程(s)，我们在编码时必须要考虑 signal() 早于 wait() 的可能
- 使用条件变量，调用 signal() 的时候无法知道是否已经有线程等待在 wait() 上。因此一般总是要先修改“条件”，使其为 true，再调用 signal()；这样 wait 线程先检查“条件”，只有当条件不成立时才去 wait()，避免了丢事件的可能。这里“修改条件”和“检查条件”都必须在 mutex 保护下进行，而且这个 mutex 必须用于配合 wait()。

# 可连接(joinable)和可分离(detached)线程

终止了的可连接线程需要由另一个线程调用pthread_join来连接才会释放资源, 而可分离线程在终止时会自动释放资源

